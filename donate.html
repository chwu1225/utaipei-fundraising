<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ææ¬¾ - è‡ºåŒ—å¸‚ç«‹å¤§å­¸å‹Ÿæ¬¾å¹³å°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'utaipei': {
                            'primary': '#1e3a5f',
                            'secondary': '#2d5a87',
                            'accent': '#e63946',
                            'gold': '#d4a84b',
                            'light': '#f8f9fa'
                        }
                    },
                    fontFamily: {
                        'sans': ['Noto Sans TC', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        [v-cloak] { display: none; }

        /* DEMO Banner */
        .demo-ribbon {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 9999;
            overflow: hidden;
            width: 150px;
            height: 150px;
            pointer-events: none;
        }
        .demo-ribbon span {
            position: absolute;
            display: block;
            width: 225px;
            padding: 10px 0;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a5a 100%);
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
            color: #fff;
            font-size: 14px;
            font-weight: bold;
            text-shadow: 0 1px 1px rgba(0,0,0,0.2);
            text-transform: uppercase;
            text-align: center;
            left: -55px;
            top: 35px;
            transform: rotate(-45deg);
            letter-spacing: 1px;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 50%, #3d7ab5 100%);
        }

        .amount-btn {
            transition: all 0.2s ease;
        }

        .amount-btn:hover {
            transform: scale(1.05);
        }

        .amount-btn.active {
            transform: scale(1.05);
            box-shadow: 0 0 0 3px rgba(230, 57, 70, 0.3);
        }

        .step-indicator {
            transition: all 0.3s ease;
        }

        .payment-option {
            transition: all 0.2s ease;
        }

        .payment-option:hover {
            border-color: #1e3a5f;
        }

        .payment-option.selected {
            border-color: #e63946;
            background-color: #fef2f2;
        }
    </style>
</head>
<body class="font-sans bg-gray-50 min-h-screen">
    <!-- DEMO æ¨™ç¤º -->
    <div class="demo-ribbon">
        <span>ğŸ“‹ è¨ˆä¸­å±•ç¤ºç‰ˆ</span>
    </div>

    <div id="app" v-cloak>
        <!-- Header -->
        <header class="gradient-bg text-white shadow-lg">
            <div class="container mx-auto px-4">
                <div class="flex items-center justify-between py-4">
                    <a href="index.html" class="flex items-center space-x-3">
                        <img src="https://www.utaipei.edu.tw/var/file/0/1000/img/1583/366369593.jpg"
                             alt="è‡ºåŒ—å¸‚ç«‹å¤§å­¸"
                             class="h-10 object-contain bg-white rounded px-2">
                        <div>
                            <h1 class="text-lg font-bold">è‡ºåŒ—å¸‚ç«‹å¤§å­¸</h1>
                            <p class="text-xs text-blue-200">å‹Ÿæ¬¾å¹³å°</p>
                        </div>
                    </a>
                    <nav class="flex items-center space-x-4">
                        <a href="index.html" class="text-blue-200 hover:text-white">é¦–é </a>
                        <a href="index.html#projects" class="text-blue-200 hover:text-white">å‹Ÿæ¬¾å°ˆæ¡ˆ</a>
                        <a href="honor.html" class="text-blue-200 hover:text-white">èŠ³åéŒ„</a>
                        <a href="about.html" class="text-blue-200 hover:text-white">é—œæ–¼æˆ‘å€‘</a>
                    </nav>
                </div>
            </div>
        </header>

        <main class="container mx-auto px-4 py-8">
            <!-- æ­¥é©ŸæŒ‡ç¤ºå™¨ -->
            <div class="max-w-3xl mx-auto mb-8">
                <div class="flex items-center justify-center">
                    <div v-for="(stepName, index) in ['é¸æ“‡é‡‘é¡', 'å¡«å¯«è³‡æ–™', 'ç¢ºèªä»˜æ¬¾']" :key="index"
                         class="flex items-center">
                        <div class="flex items-center">
                            <div class="w-10 h-10 rounded-full flex items-center justify-center font-bold transition-all"
                                 :class="step > index ? 'bg-green-500 text-white' : step === index + 1 ? 'bg-utaipei-accent text-white' : 'bg-gray-200 text-gray-500'">
                                <span v-if="step > index">âœ“</span>
                                <span v-else>{{ index + 1 }}</span>
                            </div>
                            <span class="ml-2 text-sm font-medium"
                                  :class="step >= index + 1 ? 'text-utaipei-primary' : 'text-gray-400'">
                                {{ stepName }}
                            </span>
                        </div>
                        <div v-if="index < 2" class="w-16 md:w-24 h-1 mx-2 rounded"
                             :class="step > index + 1 ? 'bg-green-500' : 'bg-gray-200'">
                        </div>
                    </div>
                </div>
            </div>

            <div class="max-w-4xl mx-auto">
                <div class="grid md:grid-cols-3 gap-8">
                    <!-- å·¦å´ï¼šææ¬¾è¡¨å–® -->
                    <div class="md:col-span-2">
                        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                            <!-- Step 1: é¸æ“‡é‡‘é¡ -->
                            <div v-if="step === 1" class="p-6 md:p-8">
                                <h2 class="text-2xl font-bold text-utaipei-primary mb-6">é¸æ“‡ææ¬¾é‡‘é¡</h2>

                                <!-- ææ¬¾é¡å‹ -->
                                <div class="mb-6">
                                    <label class="block text-sm font-medium text-gray-700 mb-3">ææ¬¾é¡å‹</label>
                                    <div class="grid grid-cols-2 gap-4">
                                        <button @click="donationType = 'once'"
                                                class="py-3 px-4 rounded-lg border-2 font-medium transition"
                                                :class="donationType === 'once' ? 'border-utaipei-accent bg-red-50 text-utaipei-accent' : 'border-gray-200 text-gray-600 hover:border-gray-300'">
                                            å–®æ¬¡ææ¬¾
                                        </button>
                                        <button @click="donationType = 'monthly'"
                                                class="py-3 px-4 rounded-lg border-2 font-medium transition"
                                                :class="donationType === 'monthly' ? 'border-utaipei-accent bg-red-50 text-utaipei-accent' : 'border-gray-200 text-gray-600 hover:border-gray-300'">
                                            å®šæœŸå®šé¡ï¼ˆæ¯æœˆï¼‰
                                        </button>
                                    </div>
                                </div>

                                <!-- é è¨­é‡‘é¡é¸é … -->
                                <div class="mb-6">
                                    <label class="block text-sm font-medium text-gray-700 mb-3">é¸æ“‡é‡‘é¡</label>
                                    <div class="grid grid-cols-3 gap-3">
                                        <button v-for="amt in [500, 1000, 2000, 3000, 5000, 10000]"
                                                :key="amt"
                                                @click="selectAmount(amt)"
                                                class="py-4 rounded-lg border-2 font-bold amount-btn"
                                                :class="amount === amt && !customAmount ? 'border-utaipei-accent bg-red-50 text-utaipei-accent active' : 'border-gray-200 text-gray-700 hover:border-utaipei-secondary'">
                                            ${{ amt.toLocaleString() }}
                                        </button>
                                    </div>
                                </div>

                                <!-- è‡ªè¨‚é‡‘é¡ -->
                                <div class="mb-6">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">æˆ–è¼¸å…¥å…¶ä»–é‡‘é¡</label>
                                    <div class="relative">
                                        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-bold">NT$</span>
                                        <input type="number"
                                               v-model="customAmount"
                                               @focus="amount = null"
                                               placeholder="è¼¸å…¥é‡‘é¡"
                                               min="100"
                                               class="w-full pl-16 pr-4 py-4 border-2 rounded-lg text-lg font-bold focus:border-utaipei-accent focus:ring-0 outline-none transition">
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1">æœ€ä½ææ¬¾é‡‘é¡ NT$100</p>
                                </div>

                                <button @click="nextStep"
                                        :disabled="!finalAmount || finalAmount < 100"
                                        class="w-full py-4 rounded-lg font-bold text-lg transition"
                                        :class="finalAmount && finalAmount >= 100 ? 'bg-utaipei-primary hover:bg-utaipei-secondary text-white' : 'bg-gray-200 text-gray-400 cursor-not-allowed'">
                                    ä¸‹ä¸€æ­¥ï¼šå¡«å¯«è³‡æ–™
                                </button>
                            </div>

                            <!-- Step 2: å¡«å¯«è³‡æ–™ -->
                            <div v-if="step === 2" class="p-6 md:p-8">
                                <h2 class="text-2xl font-bold text-utaipei-primary mb-6">å¡«å¯«ææ¬¾äººè³‡æ–™</h2>

                                <div class="space-y-5">
                                    <!-- å§“å -->
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">
                                            å§“å <span class="text-red-500">*</span>
                                        </label>
                                        <input type="text" v-model="donor.name" required
                                               class="w-full px-4 py-3 border rounded-lg focus:border-utaipei-accent focus:ring-0 outline-none transition"
                                               placeholder="è«‹è¼¸å…¥çœŸå¯¦å§“å">
                                    </div>

                                    <!-- Email -->
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">
                                            é›»å­éƒµä»¶ <span class="text-red-500">*</span>
                                        </label>
                                        <input type="email" v-model="donor.email" required
                                               class="w-full px-4 py-3 border rounded-lg focus:border-utaipei-accent focus:ring-0 outline-none transition"
                                               placeholder="ç”¨æ–¼æ¥æ”¶æ”¶æ“šå’Œææ¬¾ç¢ºèª">
                                    </div>

                                    <!-- æ‰‹æ©Ÿ -->
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">
                                            æ‰‹æ©Ÿè™Ÿç¢¼ <span class="text-red-500">*</span>
                                        </label>
                                        <input type="tel" v-model="donor.phone" required
                                               class="w-full px-4 py-3 border rounded-lg focus:border-utaipei-accent focus:ring-0 outline-none transition"
                                               placeholder="09XX-XXX-XXX">
                                    </div>

                                    <!-- æ˜¯å¦éœ€è¦æ”¶æ“š -->
                                    <div class="bg-gray-50 rounded-lg p-4">
                                        <label class="flex items-center cursor-pointer">
                                            <input type="checkbox" v-model="donor.needReceipt"
                                                   class="w-5 h-5 rounded border-gray-300 text-utaipei-accent focus:ring-utaipei-accent">
                                            <span class="ml-3 font-medium">æˆ‘éœ€è¦ææ¬¾æ”¶æ“šï¼ˆå¯å ±ç¨…ï¼‰</span>
                                        </label>

                                        <div v-if="donor.needReceipt" class="mt-4 space-y-4 pl-8">
                                            <div>
                                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                                    èº«åˆ†è­‰å­—è™Ÿ / çµ±ä¸€ç·¨è™Ÿ <span class="text-red-500">*</span>
                                                </label>
                                                <input type="text" v-model="donor.idNumber"
                                                       class="w-full px-4 py-3 border rounded-lg focus:border-utaipei-accent focus:ring-0 outline-none transition"
                                                       placeholder="å ±ç¨…ç”¨é€”">
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                                    æ”¶æ“šå¯„é€åœ°å€
                                                </label>
                                                <input type="text" v-model="donor.address"
                                                       class="w-full px-4 py-3 border rounded-lg focus:border-utaipei-accent focus:ring-0 outline-none transition"
                                                       placeholder="å¦‚éœ€ç´™æœ¬æ”¶æ“šè«‹å¡«å¯«">
                                            </div>
                                        </div>
                                    </div>

                                    <!-- åŒ¿åææ¬¾é¸é … -->
                                    <div class="bg-yellow-50 rounded-lg p-4 border border-yellow-200">
                                        <label class="flex items-center cursor-pointer">
                                            <input type="checkbox" v-model="donor.isAnonymous"
                                                   class="w-5 h-5 rounded border-gray-300 text-utaipei-gold focus:ring-utaipei-gold">
                                            <span class="ml-3 font-medium">ğŸ™ˆ æˆ‘è¦åŒ¿åææ¬¾</span>
                                        </label>
                                        <p class="text-xs text-gray-500 mt-2 ml-8">å‹¾é¸å¾Œï¼Œæ‚¨çš„å§“åå°‡ä¸æœƒé¡¯ç¤ºåœ¨èŠ³åéŒ„åŠææ¬¾å‹•æ…‹ä¸­</p>

                                        <div v-if="donor.isAnonymous" class="mt-3 ml-8 p-3 bg-white rounded border border-yellow-100">
                                            <p class="text-sm text-gray-600">
                                                <span class="font-medium text-utaipei-gold">åŒ¿åææ¬¾èªªæ˜ï¼š</span><br>
                                                â€¢ æ‚¨çš„å€‹äººè³‡æ–™åƒ…ä¾›é–‹ç«‹æ”¶æ“šä½¿ç”¨<br>
                                                â€¢ èŠ³åéŒ„å°‡é¡¯ç¤ºç‚ºã€ŒåŒ¿åå–„å¿ƒäººå£«ã€<br>
                                                â€¢ å­¸æ ¡ä»æœƒå¯„é€æ„Ÿè¬å‡½è‡³æ‚¨çš„ä¿¡ç®±
                                            </p>
                                        </div>
                                    </div>

                                    <!-- æ˜¯å¦å…¬é–‹èŠ³åéŒ„ -->
                                    <div v-if="!donor.isAnonymous" class="bg-gray-50 rounded-lg p-4">
                                        <label class="flex items-center cursor-pointer">
                                            <input type="checkbox" v-model="donor.showInHonorRoll"
                                                   class="w-5 h-5 rounded border-gray-300 text-utaipei-accent focus:ring-utaipei-accent">
                                            <span class="ml-3 font-medium">åŒæ„å°‡å§“åå…¬é–‹æ–¼èŠ³åéŒ„</span>
                                        </label>
                                        <p class="text-xs text-gray-500 mt-2 ml-8">åƒ…é¡¯ç¤ºå§“æ°ï¼Œå¦‚ã€Œç‹â—‹æ˜ã€</p>
                                    </div>

                                    <!-- ææ¬¾ç•™è¨€ -->
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">
                                            ææ¬¾ç•™è¨€ï¼ˆé¸å¡«ï¼‰
                                        </label>
                                        <textarea v-model="donor.message" rows="3"
                                                  class="w-full px-4 py-3 border rounded-lg focus:border-utaipei-accent focus:ring-0 outline-none transition resize-none"
                                                  placeholder="å¯«ä¸‹æ‚¨å°åŒ—å¸‚å¤§çš„ç¥ç¦..."></textarea>
                                    </div>
                                </div>

                                <div class="flex space-x-4 mt-8">
                                    <button @click="step = 1"
                                            class="flex-1 py-4 rounded-lg font-bold border-2 border-gray-200 text-gray-600 hover:border-gray-300 transition">
                                        ä¸Šä¸€æ­¥
                                    </button>
                                    <button @click="nextStep"
                                            :disabled="!isFormValid"
                                            class="flex-1 py-4 rounded-lg font-bold transition"
                                            :class="isFormValid ? 'bg-utaipei-primary hover:bg-utaipei-secondary text-white' : 'bg-gray-200 text-gray-400 cursor-not-allowed'">
                                        ä¸‹ä¸€æ­¥ï¼šç¢ºèªä»˜æ¬¾
                                    </button>
                                </div>
                            </div>

                            <!-- Step 3: ç¢ºèªä»˜æ¬¾ -->
                            <div v-if="step === 3" class="p-6 md:p-8">
                                <h2 class="text-2xl font-bold text-utaipei-primary mb-6">ç¢ºèªä¸¦ä»˜æ¬¾</h2>

                                <!-- ææ¬¾æ‘˜è¦ -->
                                <div class="bg-gray-50 rounded-lg p-6 mb-6">
                                    <h3 class="font-bold text-lg mb-4">ææ¬¾æ‘˜è¦</h3>
                                    <div class="space-y-3">
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">ææ¬¾å°ˆæ¡ˆ</span>
                                            <span class="font-medium">{{ selectedProject.name }}</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">ææ¬¾é¡å‹</span>
                                            <span class="font-medium">{{ donationType === 'once' ? 'å–®æ¬¡ææ¬¾' : 'å®šæœŸå®šé¡ï¼ˆæ¯æœˆï¼‰' }}</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">ææ¬¾äºº</span>
                                            <span class="font-medium">{{ donor.name }}</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">é›»å­éƒµä»¶</span>
                                            <span class="font-medium">{{ donor.email }}</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">éœ€è¦æ”¶æ“š</span>
                                            <span class="font-medium">{{ donor.needReceipt ? 'æ˜¯' : 'å¦' }}</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">åŒ¿åææ¬¾</span>
                                            <span class="font-medium" :class="donor.isAnonymous ? 'text-utaipei-gold' : ''">
                                                {{ donor.isAnonymous ? 'ğŸ™ˆ æ˜¯ï¼ˆä¸å…¬é–‹å§“åï¼‰' : 'å¦' }}
                                            </span>
                                        </div>
                                        <div class="border-t pt-3 mt-3">
                                            <div class="flex justify-between text-lg">
                                                <span class="font-bold">ææ¬¾é‡‘é¡</span>
                                                <span class="font-bold text-utaipei-accent">NT$ {{ finalAmount.toLocaleString() }}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ä»˜æ¬¾æ–¹å¼ -->
                                <div class="mb-6">
                                    <h3 class="font-bold text-lg mb-4">é¸æ“‡ä»˜æ¬¾æ–¹å¼</h3>
                                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                                        <div v-for="method in paymentMethods" :key="method.id"
                                             @click="paymentMethod = method.id"
                                             class="payment-option border-2 rounded-lg p-4 cursor-pointer text-center"
                                             :class="paymentMethod === method.id ? 'selected' : ''">
                                            <div class="text-2xl mb-2">{{ method.icon }}</div>
                                            <div class="text-sm font-medium">{{ method.name }}</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- åŒæ„æ¢æ¬¾ -->
                                <div class="mb-6">
                                    <label class="flex items-start cursor-pointer">
                                        <input type="checkbox" v-model="agreeTerms"
                                               class="w-5 h-5 rounded border-gray-300 text-utaipei-accent focus:ring-utaipei-accent mt-0.5">
                                        <span class="ml-3 text-sm text-gray-600">
                                            æˆ‘å·²é–±è®€ä¸¦åŒæ„
                                            <a href="#" class="text-utaipei-accent hover:underline">ææ¬¾æ³¨æ„äº‹é …</a>
                                            åŠ
                                            <a href="#" class="text-utaipei-accent hover:underline">å€‹äººè³‡æ–™ä½¿ç”¨è²æ˜</a>
                                        </span>
                                    </label>
                                </div>

                                <div class="flex space-x-4">
                                    <button @click="step = 2"
                                            class="flex-1 py-4 rounded-lg font-bold border-2 border-gray-200 text-gray-600 hover:border-gray-300 transition">
                                        ä¸Šä¸€æ­¥
                                    </button>
                                    <button @click="submitDonation"
                                            :disabled="!paymentMethod || !agreeTerms"
                                            class="flex-1 py-4 rounded-lg font-bold transition"
                                            :class="paymentMethod && agreeTerms ? 'bg-utaipei-accent hover:bg-red-600 text-white' : 'bg-gray-200 text-gray-400 cursor-not-allowed'">
                                        ç«‹å³ææ¬¾ NT$ {{ finalAmount.toLocaleString() }}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- å³å´ï¼šå°ˆæ¡ˆè³‡è¨Š -->
                    <div class="md:col-span-1">
                        <div class="bg-white rounded-xl shadow-lg overflow-hidden sticky top-24">
                            <div class="h-32 bg-gradient-to-br flex items-center justify-center"
                                 :class="selectedProject.gradientClass">
                                <span class="text-5xl">{{ selectedProject.icon }}</span>
                            </div>
                            <div class="p-5">
                                <h3 class="font-bold text-lg text-utaipei-primary mb-2">
                                    {{ selectedProject.name }}
                                </h3>
                                <p class="text-sm text-gray-600 mb-4">
                                    {{ selectedProject.description }}
                                </p>

                                <!-- é€²åº¦æ¢ -->
                                <div class="mb-4">
                                    <div class="flex justify-between text-sm mb-1">
                                        <span class="text-gray-500">å‹Ÿæ¬¾é€²åº¦</span>
                                        <span class="font-bold text-utaipei-accent">{{ selectedProject.progress }}%</span>
                                    </div>
                                    <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                                        <div class="h-full bg-gradient-to-r from-utaipei-accent to-utaipei-gold rounded-full"
                                             :style="{ width: selectedProject.progress + '%' }">
                                        </div>
                                    </div>
                                </div>

                                <div class="text-sm text-gray-500 space-y-1">
                                    <div class="flex justify-between">
                                        <span>å·²å‹Ÿå¾—</span>
                                        <span class="font-medium text-gray-700">${{ selectedProject.raised.toLocaleString() }}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>ç›®æ¨™é‡‘é¡</span>
                                        <span class="font-medium text-gray-700">${{ selectedProject.goal.toLocaleString() }}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>ææ¬¾äººæ•¸</span>
                                        <span class="font-medium text-gray-700">{{ selectedProject.donors }} äºº</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>æˆªæ­¢æ—¥æœŸ</span>
                                        <span class="font-medium text-gray-700">{{ selectedProject.deadline }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- å®‰å…¨ä¿è­‰ -->
                        <div class="bg-white rounded-xl shadow-lg p-5 mt-4">
                            <h4 class="font-bold mb-3 flex items-center">
                                <span class="text-green-500 mr-2">ğŸ”’</span>
                                å®‰å…¨ä¿è­‰
                            </h4>
                            <ul class="text-sm text-gray-600 space-y-2">
                                <li class="flex items-center">
                                    <span class="text-green-500 mr-2">âœ“</span>
                                    SSL 256ä½å…ƒåŠ å¯†å‚³è¼¸
                                </li>
                                <li class="flex items-center">
                                    <span class="text-green-500 mr-2">âœ“</span>
                                    è—æ–°é‡‘æµå®‰å…¨èªè­‰
                                </li>
                                <li class="flex items-center">
                                    <span class="text-green-500 mr-2">âœ“</span>
                                    å€‹è³‡ä¿è­·ç¬¦åˆæ³•è¦
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- ææ¬¾æˆåŠŸå½ˆçª— -->
        <div v-if="showSuccess" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
            <div class="bg-white rounded-2xl max-w-md w-full p-8 text-center animate-bounce-in">
                <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                    <span class="text-5xl">ğŸ‰</span>
                </div>
                <h2 class="text-2xl font-bold text-utaipei-primary mb-2">æ„Ÿè¬æ‚¨çš„ææ¬¾ï¼</h2>
                <p class="text-gray-600 mb-6">
                    æ‚¨çš„æ„›å¿ƒå°‡ç‚ºåŒ—å¸‚å¤§å¸¶ä¾†æ­£å‘æ”¹è®Šã€‚<br>
                    ææ¬¾æ”¶æ“šå°‡æ–¼ 3-5 å€‹å·¥ä½œå¤©å…§å¯„é€è‡³æ‚¨çš„ä¿¡ç®±ã€‚
                </p>
                <div class="bg-gray-50 rounded-lg p-4 mb-6">
                    <div class="text-sm text-gray-500">ææ¬¾é‡‘é¡</div>
                    <div class="text-3xl font-bold text-utaipei-accent">NT$ {{ finalAmount.toLocaleString() }}</div>
                </div>
                <div class="flex space-x-4">
                    <a href="index.html" class="flex-1 py-3 rounded-lg border-2 border-gray-200 text-gray-600 font-medium hover:border-gray-300 transition">
                        è¿”å›é¦–é 
                    </a>
                    <a href="honor.html" class="flex-1 py-3 rounded-lg bg-utaipei-primary text-white font-medium hover:bg-utaipei-secondary transition">
                        æŸ¥çœ‹èŠ³åéŒ„
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue

        createApp({
            data() {
                return {
                    step: 1,
                    donationType: 'once',
                    amount: null,
                    customAmount: null,
                    donor: {
                        name: '',
                        email: '',
                        phone: '',
                        needReceipt: true,
                        idNumber: '',
                        address: '',
                        isAnonymous: false,
                        showInHonorRoll: true,
                        message: ''
                    },
                    paymentMethod: null,
                    agreeTerms: false,
                    showSuccess: false,
                    projects: [
                        {
                            id: 1,
                            name: 'é«”è‚²é¸æ‰‹åŸ¹è¨“åŸºé‡‘',
                            icon: 'ğŸ†',
                            description: 'æ”¯æŒæ ¡éšŠé¸æ‰‹è¨“ç·´ã€æ¯”è³½å™¨æè³¼ç½®åŠåœ‹å…§å¤–è³½äº‹åƒèˆ‡ã€‚',
                            goal: 2000000,
                            raised: 1520000,
                            donors: 234,
                            deadline: '2025-06-30',
                            progress: 76,
                            gradientClass: 'from-amber-400 to-orange-500'
                        },
                        {
                            id: 2,
                            name: 'å­¸ç”Ÿçå­¸é‡‘',
                            icon: 'ğŸ“',
                            description: 'çå‹µå­¸æ¥­å„ªç•°ã€å“å¾·å…¼å„ªçš„åœ¨æ ¡å­¸ç”Ÿã€‚',
                            goal: 1000000,
                            raised: 680000,
                            donors: 156,
                            deadline: '2025-08-31',
                            progress: 68,
                            gradientClass: 'from-blue-400 to-indigo-500'
                        },
                        {
                            id: 3,
                            name: 'æ•™å­¸è¨­å‚™æ›´æ–°',
                            icon: 'ğŸ’»',
                            description: 'å‡ç´šæ•™å®¤å¤šåª’é«”è¨­å‚™ã€å¯¦é©—å®¤å™¨æåŠæ•¸ä½å­¸ç¿’è³‡æºã€‚',
                            goal: 1500000,
                            raised: 420000,
                            donors: 89,
                            deadline: '2025-12-31',
                            progress: 28,
                            gradientClass: 'from-cyan-400 to-blue-500'
                        },
                        {
                            id: 4,
                            name: 'å­¸è¡“ç ”ç©¶ç™¼å±•',
                            icon: 'ğŸ”¬',
                            description: 'æ”¯æŒæ•™å¸«å­¸è¡“ç ”ç©¶è¨ˆç•«ã€è«–æ–‡ç™¼è¡¨åŠåœ‹éš›å­¸è¡“äº¤æµã€‚',
                            goal: 800000,
                            raised: 350000,
                            donors: 67,
                            deadline: '2025-09-30',
                            progress: 44,
                            gradientClass: 'from-purple-400 to-pink-500'
                        },
                        {
                            id: 5,
                            name: 'æ ¡åœ’ç’°å¢ƒæ”¹å–„',
                            icon: 'ğŸŒ³',
                            description: 'æ ¡åœ’ç¶ åŒ–ç¾åŒ–ã€ç„¡éšœç¤™è¨­æ–½æ”¹å–„åŠä¼‘æ†©ç©ºé–“å»ºç½®ã€‚',
                            goal: 600000,
                            raised: 520000,
                            donors: 112,
                            deadline: '2025-04-30',
                            progress: 87,
                            gradientClass: 'from-green-400 to-emerald-500'
                        },
                        {
                            id: 6,
                            name: 'å¼±å‹¢å­¸ç”ŸåŠ©å­¸é‡‘',
                            icon: 'ğŸ’',
                            description: 'å”åŠ©ç¶“æ¿Ÿå¼±å‹¢å­¸ç”Ÿå®‰å¿ƒå°±å­¸ï¼Œæä¾›ç”Ÿæ´»åŠå­¸ç¿’è£œåŠ©ã€‚',
                            goal: 500000,
                            raised: 480000,
                            donors: 198,
                            deadline: '2025-03-31',
                            progress: 96,
                            gradientClass: 'from-rose-400 to-red-500'
                        }
                    ],
                    paymentMethods: [
                        { id: 'credit', name: 'ä¿¡ç”¨å¡', icon: 'ğŸ’³' },
                        { id: 'atm', name: 'ATM è½‰å¸³', icon: 'ğŸ§' },
                        { id: 'cvs', name: 'è¶…å•†ä»£ç¢¼', icon: 'ğŸª' },
                        { id: 'linepay', name: 'LINE Pay', icon: 'ğŸ’š' }
                    ],
                    selectedProjectId: 1
                }
            },
            computed: {
                finalAmount() {
                    return this.customAmount || this.amount || 0
                },
                selectedProject() {
                    return this.projects.find(p => p.id === this.selectedProjectId) || this.projects[0]
                },
                isFormValid() {
                    const basic = this.donor.name && this.donor.email && this.donor.phone
                    if (this.donor.needReceipt) {
                        return basic && this.donor.idNumber
                    }
                    return basic
                }
            },
            methods: {
                selectAmount(amt) {
                    this.amount = amt
                    this.customAmount = null
                },
                nextStep() {
                    if (this.step === 1 && this.finalAmount >= 100) {
                        this.step = 2
                    } else if (this.step === 2 && this.isFormValid) {
                        this.step = 3
                    }
                    window.scrollTo({ top: 0, behavior: 'smooth' })
                },
                submitDonation() {
                    // æ¨¡æ“¬ä»˜æ¬¾æˆåŠŸ
                    this.showSuccess = true
                }
            },
            mounted() {
                // å¾ URL å–å¾—å°ˆæ¡ˆ ID
                const urlParams = new URLSearchParams(window.location.search)
                const projectId = parseInt(urlParams.get('project'))
                if (projectId && this.projects.find(p => p.id === projectId)) {
                    this.selectedProjectId = projectId
                }
            }
        }).mount('#app')
    </script>
</body>
</html>
